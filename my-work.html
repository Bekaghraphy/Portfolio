<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Work | Hesham Abdelhamed</title>

  <link rel="icon" type="image/png" href="img/favicon.png" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet" />

  <!-- Main Site CSS -->
  <link rel="stylesheet" href="style.css" />

  <!-- SEO -->
  <meta name="description" content="A curated selection of cinematic work by filmmaker and video editor Hesham Abdelhamed – documentary films, commercial content, and human stories." />
  <meta name="keywords" content="Hesham Abdelhamed, filmmaker, director, video editor, documentary, commercial, Riyadh, Egypt, cinematic storytelling" />
  <meta name="robots" content="index,follow" />
  <link rel="canonical" href="https://www.hisham.digital/my-work.html" />

  <!-- OG -->
  <meta property="og:title" content="My Work | Hesham Abdelhamed" />
  <meta property="og:description" content="Cinematic portfolio of documentary, commercial, and digital work." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://www.hisham.digital/img/og-cover.jpg" />

  <!-- FAST ANIMATION FIX -->
  <style>
    body { opacity: 0; transition: opacity .5s ease; background:#05050a; }
    body.page-loaded { opacity: 1; }

    .page-work {
      padding-top: 120px;
      color: #fff;
      font-family: 'Montserrat', sans-serif;
    }

    .side-title {
      position: fixed;
      left: 20px;
      top: 50%;
      transform: translateY(-50%);
      writing-mode: vertical-rl;
      color: #f5c14a;
      font-size: 13px;
      letter-spacing: 0.18em;
      opacity: .8;
    }

    /* ---------------- HERO ---------------- */
    .work-hero {
      display: grid;
      grid-template-columns: 1.6fr 1.4fr;
      gap: 40px;
      padding: 0 40px;
      max-width: 1600px;
      margin: 0 auto 60px auto;
    }

    @media(max-width: 900px) {
      .work-hero {
        grid-template-columns: 1fr;
      }
      .side-title { display: none; }
    }

    .work-hero-title {
      font-size: 42px;
      font-weight: 700;
      margin-bottom: 15px;
    }

    .work-hero-title span { color: #f5c14a; }

    .work-hero-text p {
      font-size: 15px;
      opacity: 0.85;
      margin-bottom: 14px;
      line-height: 1.8;
    }

    .work-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 15px;
    }

    .work-tag {
      padding: 6px 12px;
      border: 1px solid rgba(255,255,255,0.15);
      border-radius: 20px;
      font-size: 12px;
      opacity: .85;
    }

    /* ----------- FEATURED REEL ----------- */
    .work-hero-feature {
      position: relative;
      border-radius: 14px;
      overflow: hidden;
      min-height: 260px;
      background: #111;
      cursor: pointer;
      box-shadow: 0 20px 38px rgba(0,0,0,0.7);
    }

    .feature-overlay {
      position: absolute;
      inset: 0;
      background: linear-gradient(to top, rgba(0,0,0,0.85), rgba(0,0,0,0.2));
    }

    .feature-content {
      position: relative;
      padding: 20px;
      text-align: center;
      top: 50%;
      transform: translateY(-50%);
    }

    .feature-label {
      font-size: 12px;
      letter-spacing: 0.16em;
      opacity: .7;
    }

    .feature-text {
      font-size: 18px;
      margin: 12px 0;
      font-weight: 600;
    }

    .feature-cta {
      padding: 8px 16px;
      border-radius: 20px;
      border: 1px solid #f5c14a;
      background: rgba(0,0,0,0.6);
      color: #fff;
      cursor: pointer;
      font-size: 13px;
      transition: .2s ease;
    }

    .feature-cta:hover {
      background:#f5c14a;
      color:#000;
    }

  </style>
</head>

<body>
  <header class="nav">
    <nav class="nav-center">
      <a href="index.html">Home</a>
      <a href="my-work.html" class="active">My Work</a>
    </nav>
  </header>

  <div class="side-title">MY WORK</div>

  <main class="page-work">
    <!-- ─────────────────────── HERO SECTION ─────────────────────── -->
    <section class="work-hero">
      <div class="work-hero-text">
        <h1 class="work-hero-title">
          A curated reel of <span>cinematic stories</span>.
        </h1>

        <p>
          Documentary films, commercial pieces, human stories, and medical narratives
          produced across Egypt, Saudi Arabia, and the wider region.
        </p>

        <p>
          اختر أي عمل وشغّله في وضع سينمائي كامل، أو ابدأ من الـ Featured Reel بالأعلى.
        </p>

        <div class="work-tags">
          <span class="work-tag">Documentary</span>
          <span class="work-tag">Commercial</span>
          <span class="work-tag">Human Stories</span>
          <span class="work-tag">Healthcare Content</span>
        </div>
      </div>

      <!-- FEATURED VIDEO -->
      <div class="work-hero-feature" data-video-index="0">
        <div class="feature-overlay"></div>
        <div class="feature-content">
          <div class="feature-label">FEATURED REEL</div>
          <div class="feature-text">A highlight from recent cinematic work.</div>
          <button class="feature-cta">▶ Play Featured Reel</button>
        </div>
      </div>
    </section>

    <!-- ─────────────────────── GRID SECTION ─────────────────────── -->
    <section style="max-width: 1800px; margin: 0 auto; padding: 0 40px;">
      <div style="margin-bottom: 14px;">
        <h2 style="font-size: 20px; font-weight: 600; margin-bottom: 4px;">Selected Films & Projects</h2>
        <p style="opacity:.7; font-size:13px;">Click any card to watch in cinematic fullscreen mode.</p>
      </div>

      <!-- Video GRID -->
      <div id="videoGrid" class="videos-grid"></div>

      <p style="text-align:center; margin:40px 0; color:#f5c14a; opacity:.9; font-size:14px;">
        More cinematic pieces coming soon...
      </p>
    </section>
  </main>

  <!-- ─────────────────────── MODAL WRAPPER ─────────────────────── -->
  <div class="video-modal" id="videoModal" aria-hidden="true">
    <div class="video-modal-content">
      <button class="video-modal-close" id="modalClose">×</button>
      <div class="video-modal-frame" id="modalFrame"></div>
    </div>
  </div>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    document.body.classList.add("page-loaded");
  });

  /* ─────────────────────────────
      1) VIDEO LIST  
      غير أول لينك لو عايز تغيّر الهايلايت
  ───────────────────────────── */
  const videos = [
    "https://player.vimeo.com/video/1081231929",
    "https://player.vimeo.com/video/1093436208",
    "https://player.vimeo.com/video/1012761186",
    "https://player.vimeo.com/video/782962222",
    "https://player.vimeo.com/video/1081226158",
    "https://player.vimeo.com/video/1137725566",
    "https://player.vimeo.com/video/1088303838",
    "https://player.vimeo.com/video/697540206",
    "https://player.vimeo.com/video/348850766",
    "https://player.vimeo.com/video/1127837184",
    "https://player.vimeo.com/video/348850143",
    "https://www.youtube.com/embed/n4gmpMHBUK4"
  ];

  /* ─────────────────────────────
       2) ELEMENTS
  ───────────────────────────── */
  const grid = document.getElementById("videoGrid");
  const modal = document.getElementById("videoModal");
  const modalFrame = document.getElementById("modalFrame");
  const closeBtn = document.getElementById("modalClose");

  const feature = document.querySelector(".work-hero-feature");
  const featureBtn = document.querySelector(".feature-cta");

  /* ─────────────────────────────
       3) Vimeo Cleaner (مهم جداً)
       يجبر Vimeo إنه يعرض Fullscreen
  ───────────────────────────── */
  function cleanVimeo(url) {
    if (!url.includes("vimeo.com")) return url;

    const idMatch = url.match(/video\/(\d+)/);
    if (!idMatch) return url;

    const id = idMatch[1];

    return `https://player.vimeo.com/video/${id}?autoplay=1&title=0&byline=0&portrait=0&badge=0&dnt=1&app_id=122963`;
  }

  /* ─────────────────────────────
       4) Fetch Thumbnail
       يسحب صورة من Vimeo API مباشرة
  ───────────────────────────── */
  async function getThumbnail(url) {
    try {
      if (url.includes("vimeo.com")) {
        const idMatch = url.match(/video\/(\d+)/);
        const id = idMatch ? idMatch[1] : null;
        if (!id) throw new Error("Invalid Vimeo ID");

        const api = await fetch(`https://vimeo.com/api/v2/video/${id}.json`);
        const data = await api.json();
        return data[0].thumbnail_large;
      }

      if (url.includes("youtube.com") || url.includes("youtu.be")) {
        const id = url.split("/embed/")[1];
        return `https://img.youtube.com/vi/${id}/hqdefault.jpg`;
      }
    } catch (e) {
      console.warn("Thumbnail Error:", e);
      return "img/work-fallback.jpg";
    }
  }

  /* ─────────────────────────────
       5) Build GRID
  ───────────────────────────── */
  async function buildGrid() {
    grid.innerHTML = "";

    for (let i = 0; i < videos.length; i++) {
      const src = videos[i];
      const thumb = await getThumbnail(src);

      const card = document.createElement("div");
      card.className = "video-card";
      card.dataset.index = i;

      card.innerHTML = `
        <div class="video-thumb">
          <img class="video-img" src="${thumb}">
          <div class="video-thumb-overlay">
            <div class="video-index">FILM ${String(i + 1).padStart(2,"0")}</div>
            <div class="video-bottom-row">
              <div>
                <div class="video-label">Cinematic piece #${i + 1}</div>
                <div class="video-type">${src.includes("vimeo") ? "Vimeo" : "YouTube"}</div>
              </div>
              <div class="video-play-icon">▶</div>
            </div>
          </div>
        </div>
      `;

      grid.appendChild(card);
    }
  }

  /* ─────────────────────────────
       6) Open Video Modal
  ───────────────────────────── */
  function openVideo(i) {
    let url = videos[i];

    if (url.includes("vimeo.com")) url = cleanVimeo(url);
    if (url.includes("youtube.com") && !url.includes("autoplay"))
      url += (url.includes("?") ? "&" : "?") + "autoplay=1";

    modalFrame.innerHTML = `<iframe src="${url}" allow="autoplay; fullscreen" allowfullscreen></iframe>`;

    modal.classList.add("open");
    document.body.style.overflow = "hidden";
  }

  /* ─────────────────────────────
       7) Close Modal
  ───────────────────────────── */
  function closeVideo() {
    modal.classList.remove("open");
    modalFrame.innerHTML = "";
    document.body.style.overflow = "";
  }

  /* ─────────────────────────────
       8) Events
  ───────────────────────────── */
  grid.addEventListener("click", (e) => {
    const card = e.target.closest(".video-card");
    if (!card) return;
    openVideo(card.dataset.index);
  });

  feature.addEventListener("click", () => openVideo(0));
  featureBtn.addEventListener("click", (e) => {
    e.stopPropagation();
    openVideo(0);
  });

  closeBtn.addEventListener("click", closeVideo);
  modal.addEventListener("click", (e) => {
    if (e.target === modal) closeVideo();
  });

  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape") closeVideo();
  });

  /* ─────────────────────────────
       9) BUILD GRID ON LOAD
  ───────────────────────────── */
  buildGrid();
</script>

</body>
</html>
