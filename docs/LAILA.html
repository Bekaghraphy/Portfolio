<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>LAILA | Image to Prompt</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="style.css">

<style>
/* ===== LAILA ONLY ===== */
.laila-wrapper{
  max-width:900px;
  margin:120px auto 80px;
  padding:0 20px;
  animation:fadeUp .7s ease forwards;
}

@keyframes fadeUp{
  from{opacity:0;transform:translateY(25px)}
  to{opacity:1;transform:translateY(0)}
}

.laila-card{
  margin-top:40px;
  padding:40px;
  border-radius:20px;
  background:rgba(255,255,255,.03);
  border:1px solid rgba(255,255,255,.06);
}

.laila-upload{
  text-align:center;
  padding:40px;
  border:1px dashed rgba(255,255,255,.2);
  border-radius:18px;
}

.laila-upload input{display:none}

.laila-upload label{
  padding:14px 26px;
  border-radius:14px;
  background:rgba(255,255,255,.08);
  cursor:pointer;
}

.laila-preview img{
  margin-top:25px;
  max-width:100%;
  border-radius:16px;
}

.laila-controls select,
.laila-controls button,
.laila-output textarea{
  width:100%;
  margin-top:25px;
  padding:16px;
  border-radius:16px;
  border:none;
}

.laila-controls select{
  background:rgba(255,255,255,.08);
  color:white;
}

.laila-controls button{
  background:var(--gold);
  font-weight:600;
  cursor:pointer;
}

.laila-controls button:disabled{
  opacity:.6;
}

.laila-output{
  display:none;
  margin-top:40px;
}

.laila-output textarea{
  background:rgba(255,255,255,.03);
  color:white;
  min-height:150px;
  resize:none;
}
</style>
</head>

<body>

<!-- ✅ NAVBAR (انسخه من موقعك) -->
<div class="nav">
  <a href="index.html">Home</a>
  <a href="my-work.html">My Work</a>
  <a href="gallery.html">Gallery</a>
  <a href="LAILA.html" class="active">LAILA</a>
  <a href="academy.html">Academy</a>
  <a href="cv.html">CV</a>
</div>

<!-- ✅ LAILA CONTENT -->
<div class="laila-wrapper">
  <h1>LAILA</h1>
  <p class="subtitle">
    Upload an image and generate a smart prompt for AI image generators.
  </p>

  <div class="laila-card">

    <div class="laila-upload">
      <label>
        Upload Image
        <input type="file" accept="image/*" id="imageInput">
      </label>
      <div class="laila-preview" id="preview"></div>
    </div>

    <div class="laila-controls">
      <select id="styleSelect">
        <option value="cinematic">Cinematic</option>
        <option value="photo">Photorealistic</option>
        <option value="illustration">Illustration</option>
        <option value="3d">3D Render</option>
        <option value="architecture">Architecture</option>
        <option value="portrait">Portrait Studio</option>
      </select>

      <button id="generateBtn" disabled onclick="generatePrompt()">
        Generate Prompt
      </button>
    </div>

    <div class="laila-output" id="output">
      <textarea id="promptOutput" readonly></textarea>
      <button style="margin-top:15px" onclick="copyPrompt()">Copy Prompt</button>
    </div>

  </div>
</div>

<script>
const input=document.getElementById("imageInput");
const preview=document.getElementById("preview");
const btn=document.getElementById("generateBtn");
const output=document.getElementById("output");
const promptBox=document.getElementById("promptOutput");

input.addEventListener("change",()=>{
  preview.innerHTML="";
  const file=input.files[0];
  if(!file) return;
  const img=document.createElement("img");
  img.src=URL.createObjectURL(file);
  preview.appendChild(img);
  btn.disabled=false;
});

function generatePrompt(){
  const img=preview.querySelector("img");
  if(!img) return;

  const canvas=document.createElement("canvas");
  const ctx=canvas.getContext("2d");
  canvas.width=img.naturalWidth;
  canvas.height=img.naturalHeight;
  ctx.drawImage(img,0,0);

  const data=ctx.getImageData(0,0,canvas.width,canvas.height).data;
  let r=0,g=0,b=0;
  for(let i=0;i<data.length;i+=4){r+=data[i];g+=data[i+1];b+=data[i+2];}
  const px=data.length/4; r/=px; g/=px; b/=px;

  const brightness=(r+g+b)/3;
  const orientation=canvas.width>canvas.height?"wide composition":"portrait composition";
  const lighting=brightness>140?"soft lighting":brightness>90?"cinematic lighting":"low-key dramatic lighting";
  const colors=r>g&&r>b?"warm tones":b>r&&b>g?"cool tones":"neutral tones";

  const styleMap={
    cinematic:"cinematic scene, film still",
    photo:"ultra photorealistic, professional photography",
    illustration:"detailed digital illustration",
    "3d":"3d render, octane render",
    architecture:"architectural visualization",
    portrait:"studio portrait"
  };

  const style=document.getElementById("styleSelect").value;

  promptBox.value=
`${styleMap[style]},
${orientation},
${lighting},
${colors},
sharp focus,
high detail,
realistic textures,
depth of field,
8k quality`;

  output.style.display="block";
}

function copyPrompt(){
  promptBox.select();
  document.execCommand("copy");
  alert("Prompt copied");
}
</script>

</body>
</html>
